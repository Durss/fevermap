package com.muxxu.fever.fevermap.components.button {	import flash.display.DisplayObject;
	import com.muxxu.fever.graphics.ButtonSelectSkin;
	import com.muxxu.fever.graphics.ButtonSkin;
	import com.nurun.components.button.IconAlign;	import com.nurun.components.button.TextAlign;	import com.nurun.components.button.visitors.CssVisitor;	import com.nurun.components.button.visitors.FrameVisitor;	import com.nurun.components.button.visitors.FrameVisitorOptions;	import com.nurun.components.form.ToggleButton;	import com.nurun.components.vo.Margin;	import flash.display.MovieClip;	import flash.filters.DropShadowFilter;	/**	 * Displays a classic button.	 * 	 * @author  Francois	 */
	public class FeverToggleButton extends ToggleButton {

								/* *********** *		 * CONSTRUCTOR *		 * *********** */		/**		 * Creates an instance of <code>FeverToggleButton</code>.		 */		public function FeverToggleButton(label:String, icon:DisplayObject = null, selectedIcon:DisplayObject = null) {			var back:ButtonSkin = new ButtonSkin();			var back2:ButtonSelectSkin = new ButtonSelectSkin();			super(label, "button", "button", back, back2, icon, selectedIcon);			contentMargin = new Margin(2, 2, 4, 2);			var fv:FrameVisitor = new FrameVisitor();			var opts:FrameVisitorOptions = new FrameVisitorOptions("out", "over", "down", "disable");			opts.enableFrameFrom = "out";			opts.disableFrameFrom = "disable";			fv.addTarget(back, opts);			fv.addTarget(back2, opts);						if(icon != null && icon is MovieClip){				iconAlign = IconAlign.LEFT;				iconSpacing = 3;				fv.addTarget(icon as MovieClip, opts);			}			if(selectedIcon != null && selectedIcon is MovieClip){				fv.addTarget(selectedIcon as MovieClip, opts);			}			
			icon.alpha = .35;						accept(fv);			accept(new CssVisitor());			textAlign = TextAlign.LEFT;			_labelTxt.filters = [new DropShadowFilter(1,-45,0xffffff,.4,1,1,5)];		}
						/* ***************** *		 * GETTERS / SETTERS *		 * ***************** */		/**		 * @inheritDoc		 */		override public function set selected(value:Boolean):void {			super.selected = value;			if(icon != null) icon.alpha = value? 1 : .35;		}		/* ****** *		 * PUBLIC *		 * ****** */		/**		 * @inheritDoc		 */		override public function select():void {			super.select();			if(icon != null) icon.alpha = 1;		}		/**		 * @inheritDoc		 */		override public function unSelect():void {			super.unSelect();			if(icon != null) icon.alpha = .35;		}		 						/* ******* *		 * PRIVATE *		 * ******* */	}}